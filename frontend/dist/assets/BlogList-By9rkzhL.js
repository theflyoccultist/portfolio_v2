import{j as s,L as g,R as m,a as x,r as l,C as h}from"./index-CWiqQFtH.js";import{p as u,a as p}from"./axios-BmfHirOK.js";import{C as a}from"./Card-NNcSk7rY.js";const j=({id:t,title:r,thumbnail:n,excerpt:o})=>s.jsx(a,{className:"blog-card",children:s.jsx(g,{to:`/blog/${t}`,children:s.jsx(a.Body,{className:"card-content",children:s.jsxs(m,{xs:2,md:2,lg:2,className:"text-left",children:[s.jsx(x,{children:s.jsx(a.Img,{className:"card-thumbnail",src:n,alt:r})}),s.jsxs(x,{children:[s.jsx(a.Title,{className:"card-title",children:r}),s.jsx(a.Text,{className:"card-dezcription",dangerouslySetInnerHTML:{__html:u.sanitize(o)}})]})]})})})},t),f=j,b="https://www.blogging-platform.rinkakuworks.com/backend";function w(){const[t,r]=l.useState([]),[n,o]=l.useState(!0),[i,d]=l.useState(null);return l.useEffect(()=>{(async()=>{o(!0),d(null);try{const c=await p.get(`${b}/api/blog`,{headers:{}});r(c.data)}catch(c){d("Failed to load blog posts."),console.error("Error fetching blog posts",c)}finally{o(!1)}})()},[]),s.jsx(h,{id:"blog",className:"blog-container",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-center",children:"Welcome to the blog"}),i&&s.jsx("div",{className:"text-danger",children:i}),n?s.jsx("div",{children:"Loading blog posts..."}):t.length>0?t.slice().reverse().map(e=>s.jsx(f,{id:e.id,title:e.title,thumbnail:e.thumbnail,excerpt:e.content.substring(0,60)+"..."},e.id)):s.jsx("div",{className:"text-center",children:"No blog posts found."})]})})}export{w as default};
