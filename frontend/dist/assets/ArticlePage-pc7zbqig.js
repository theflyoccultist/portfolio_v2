import{u as p,r as o,j as e,C as n}from"./index-BzEthcLC.js";import{p as x,a as b}from"./axios-BmfHirOK.js";import{P as j}from"./prism-typescript-B-jSLhrX.js";const N="https://www.blogging-platform.rinkakuworks.com/backend";function w(){const{id:l}=p(),[t,m]=o.useState(null),[g,d]=o.useState(!0),[u,r]=o.useState(null),h=c=>new Date(c).toDateString();return o.useEffect(()=>{l&&(async()=>{d(!0),r(null);try{const s=await b.get(`${N}/api/blog/${l}`);s.data?m(s.data):r("Blog post not found.")}catch(s){r("Failed to load blog post."),console.error("Error fetching blog post:",s)}finally{d(!1)}})()},[l]),o.useEffect(()=>{l&&(()=>{document.querySelectorAll("pre.ql-syntax").forEach(a=>{if(a.querySelector("code"))console.log("this does not work");else{const f=a.getAttribute("data-language")||"typescript",i=document.createElement("code");i.className=`language-${f}`,i.innerHTML=a.innerHTML,a.innerHTML="",a.appendChild(i)}}),j.highlightAll()})()},[t==null?void 0:t.content]),g?e.jsx(n,{id:"blog",className:"blog-container",children:e.jsx("div",{className:"hero-title",children:"Loading blog post..."})}):u?e.jsx(n,{id:"blog",className:"blog-container",children:e.jsx("div",{className:"hero-title",children:u})}):t?e.jsx(n,{id:"blog",className:"blog-container",children:e.jsxs("div",{children:[e.jsx("h1",{className:"hero-title",children:t.title}),e.jsxs("div",{className:"card-text",children:[e.jsxs("p",{className:"author text-muted",children:["by ",t.author]}),e.jsx("img",{src:t.thumbnail,alt:t.title,className:"hero-image"}),e.jsx("p",{dangerouslySetInnerHTML:{__html:x.sanitize(t.content)}}),e.jsx("p",{className:"mb-2 text-muted",children:h(t.publishedAt)})]})]})}):e.jsx(n,{id:"blog",className:"blog-container",children:e.jsx("h1",{className:"hero-title",children:"No blog post available."})})}export{w as default};
